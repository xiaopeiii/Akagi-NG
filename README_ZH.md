<div align="center">
  <img src="https://gcore.jsdelivr.net/gh/Xe-Persistent/CDN-source/image/assets/akagi.png" width="50%">
  <h1>Akagi-NG</h1>

  <p>
    Next Generation Mahjong AI Assistant<br>
    Inspired by <b>Akagi</b> and <b>MajsoulHelper</b>
  </p>
<p><i>ã€Œæ­»ã­ã°åŠ©ã‹ã‚‹ã®ã«â€¦â€¦ã€â€” èµ¤æœ¨ã—ã’ã‚‹</i></p>

  <img src="https://img.shields.io/badge/python-3.12+-blue?logo=python">
  <img src="https://img.shields.io/badge/platform-Windows-lightgrey">
  <img src="https://img.shields.io/badge/license-AGPL--3.0-green">
</p>

<p align="center">
  <b>ç®€ä½“ä¸­æ–‡</b> | <a href="./README.md">English</a>
</p>
</div>

---

## ä»€ä¹ˆæ˜¯ Akagi-NGï¼Ÿ

**Akagi-NG** æ˜¯åŸ **Akagi** é¡¹ç›®çš„æ¬¡ä¸–ä»£ç‰ˆæœ¬ã€‚

è¿™æ˜¯ä¸€æ¬¾ä¸“ä¸ºæ—¥æœ¬éº»å°†ï¼ˆç«‹ç›´éº»å°†ï¼‰è®¾è®¡çš„ AI è¾…åŠ©å·¥å…·ï¼Œæ—¨åœ¨ä¸ºçº¿ä¸Šéº»å°†æ¸¸æˆå¯¹å±€æä¾›å®æ—¶å±€åŠ¿åˆ†æä¸å†³ç­–å»ºè®®ã€‚

Akagi-NG çš„æ ¸å¿ƒç†å¿µï¼š

- **ç°ä»£åŒ–æ¶æ„**ï¼šåŸºäº Electron åŸç”Ÿæ¡Œé¢æ¶æ„ï¼Œä½¿ç”¨ Python 3.12 ä¸ React/Vite é‡å†™
- **è§£è€¦åˆè®¾è®¡**ï¼šæ ¸å¿ƒé€»è¾‘ã€ç”¨æˆ·ç•Œé¢ã€é…ç½®ç®¡ç†ä¸ AI æ¨¡å‹å½»åº•åˆ†ç¦»
- **é«˜æ€§èƒ½æ¨ç†**ï¼šé›†æˆ `libriichi` è·å–æé€Ÿçš„ Mortal æ¨¡å‹æ¨ç†èƒ½åŠ›
- **é•¿æœŸå¯ç»´æŠ¤æ€§**ï¼šä¼˜åŒ–çš„ä»£ç ç»“æ„ä¾¿äºæŒç»­è¿­ä»£

---

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®**ä»…ä¾›æ•™è‚²åŠç ”ç©¶ä½¿ç”¨**ã€‚

åœ¨ç½‘ç»œæ¸¸æˆä¸­ä½¿ç”¨ç¬¬ä¸‰æ–¹è¾…åŠ©å·¥å…·å¯èƒ½è¿åæ¸¸æˆçš„æœåŠ¡æ¡æ¬¾ã€‚
Akagi-NG çš„ä½œè€…åŠè´¡çŒ®è€…**ä¸å¯¹ä»»ä½•ä½¿ç”¨åæœè´Ÿè´£**ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº**è´¦å·è¢«å°ç¦æˆ–å†»ç»“**ã€‚

è¯·æ‚¨åœ¨ä½¿ç”¨å‰å……åˆ†äº†è§£å¹¶è‡ªè¡Œæ‰¿æ‹…ç›¸å…³é£é™©ã€‚

---

## åŠŸèƒ½ç‰¹æ€§

- ğŸ® **æ”¯æŒå¹³å°**
  - é›€é­‚éº»å°† (Mahjong Soul)
  - å¤©å‡¤ (Tenhou)
  - éº»é›€ä¸€ç•ªè¡— (Riichi City)
  - å¤©æœˆéº»é›€ (Amatsuki Mahjong)

- ğŸ€„ **æ”¯æŒæ¨¡å¼**
  - å››äººéº»å°† (4p)
  - ä¸‰äººéº»å°† (3p)

- ğŸ¤– **AIæ¨¡å‹**
  - Mortal (Mortal 4p / Mortal 3p)
  - AkagiOT (AkagiOT 4p / AkagiOT 3p)

- ğŸ§  **æ ¸å¿ƒåŠŸèƒ½**
  - å®æ—¶æ‰‹ç‰Œåˆ†æä¸ AI ä½•åˆ‡æ¨è
  - ç«‹ç›´æ¨¡æ‹Ÿæ¨æ¼” - æ™ºèƒ½æ¨èæœ€ä½³ç«‹ç›´èˆç‰Œ
  - å®Œæ•´çš„å‰¯éœ²æ”¯æŒ - åƒ/ç¢°/å¤§æ˜æ /æš—æ /åŠ æ æ“ä½œæç¤ºä¸€ç›®äº†ç„¶
  - å…¨æ–°æ¯›ç»ç’ƒ HUD ç•Œé¢ - ä¸æ»‘ä¸”æ— æ„Ÿçš„æ‚¬æµ®çª—ä½“éªŒ
  - å¤šè¯­è¨€æ”¯æŒ - ç®€ä½“ä¸­æ–‡ / ç¹é«”ä¸­æ–‡ / æ—¥æœ¬èª / English

> [!NOTE]
> **Riichi Lookaheadï¼ˆç«‹ç›´æ¨¡æ‹Ÿæ¨æ¼”ï¼‰** æ˜¯ Akagi-NG çš„ä¸€é¡¹æ ¸å¿ƒåŠŸèƒ½ï¼Œæ—¨åœ¨è§£å†³â€œå½“ AI å»ºè®®ç«‹ç›´æ—¶ï¼Œæˆ‘åº”è¯¥åˆ‡å“ªå¼ ç‰Œï¼Ÿâ€çš„é—®é¢˜ã€‚
>
> <details>
> <summary><b>ç‚¹å‡»æŸ¥çœ‹ç«‹ç›´æ¨¡æ‹Ÿæ¨æ¼”çš„è¯¦ç»†é€»è¾‘</b></summary>
>
> **1. ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ**
>
> å½“ MJAI å¼•æ“ï¼ˆå¦‚ Mortalï¼‰å»ºè®®æ‰§è¡Œ `ç«‹ç›´` æ“ä½œæ—¶ï¼Œåè®®è¿”å›çš„åŠ¨ä½œä»…ä»…æ˜¯ `{"type": "reach"}`ã€‚å®ƒ**ä¸ä¼š**ç›´æ¥å‘Šè¯‰æˆ‘ä»¬ç«‹ç›´ååº”è¯¥åˆ‡å“ªå¼ ç‰Œï¼ˆä¾‹å¦‚ `6m`ï¼‰ã€‚
> ç„¶è€Œï¼Œå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œç‚¹å‡»â€œç«‹ç›´â€æŒ‰é’®åï¼Œä¸‹ä¸€æ­¥å¿…é¡»åˆ‡å‡ºä¸€å¼ ç‰Œã€‚å¦‚æœæ²¡æœ‰ Lookaheadï¼Œç”¨æˆ·åªèƒ½ççŒœæˆ–è€…è‡ªå·±åˆ¤æ–­åˆ‡å“ªå¼ ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ AI å»ºè®®çš„ç«‹ç›´ç­–ç•¥æ— æ³•æ­£ç¡®æ‰§è¡Œï¼ˆä¾‹å¦‚åˆ‡äº†é”™è¯¯çš„ç‰Œå¯¼è‡´æŒ¯å¬æˆ–æ”¾é“³ï¼‰ã€‚
>
> **2. å·¥ä½œåŸç†**
>
> Lookahead çš„æ ¸å¿ƒæ€æƒ³æ˜¯**â€œæ¨¡æ‹Ÿæœªæ¥â€**ã€‚å½“ AI å»ºè®®ç«‹ç›´æ—¶ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„å¹³è¡Œå®‡å®™ï¼Œå‡è®¾ç©å®¶å·²ç»å£°æ˜äº†ç«‹ç›´ï¼Œç„¶åé—® AI åœ¨é‚£ä¸ªçŠ¶æ€ä¸‹ä¼šåˆ‡ä»€ä¹ˆç‰Œã€‚
>
> æµç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š
>
> 1. **è§¦å‘**ï¼šå½“å‰å±€é¢ä¸‹ï¼ŒAI å¼•æ“ç»è¿‡æ¨ç†ï¼Œè®¤ä¸º `ç«‹ç›´ (riichi)` æ˜¯å‰ 5 åçš„æœ€ä½³åŠ¨ä½œä¹‹ä¸€ã€‚
> 2. **å¯åŠ¨æ¨¡æ‹Ÿ**ï¼šAkagi-NG åˆ›å»ºä¸€ä¸ªæ–°çš„ã€ä¸´æ—¶çš„ `Simulation Bot`ï¼ˆæ¨¡æ‹Ÿæœºå™¨äººï¼‰ã€‚
> 3. **å†å²é‡æ”¾ (History Replay)**ï¼š
>    - ä¸ºäº†è®©æ¨¡æ‹Ÿæœºå™¨äººè¾¾åˆ°å½“å‰çš„æ¸¸æˆçŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä»å¼€å±€åˆ°ç°åœ¨å‘ç”Ÿçš„æ‰€æœ‰äº‹ä»¶ï¼ˆæ‘¸ç‰Œã€æ‰“ç‰Œã€åƒç¢°æ ç­‰ï¼‰å…¨éƒ¨å–‚ç»™å®ƒä¸€éã€‚
>    - **æ—§æœºåˆ¶**ï¼šåœ¨é‡æ”¾æ¯ä¸€æ‰‹â€œè‡ªå·±çš„åŠ¨ä½œâ€æ—¶ï¼Œæ¨¡æ‹Ÿæœºå™¨äººéƒ½ä¼šå‚»ä¹ä¹åœ°å»é—® AI å¼•æ“ï¼šâ€œè¿™æ—¶å€™æˆ‘è¯¥å¹²å˜›ï¼Ÿâ€ã€‚è¿™å¯¼è‡´äº†ä¸€å±€æ¸¸æˆè¿›è¡Œåˆ°ç¬¬ 15 å·¡æ—¶ï¼ŒLookahead éœ€è¦è¿›è¡Œ 15 æ¬¡ä»¥ä¸Šçš„ AI æ¨ç†ã€‚å¯¹äº Online æ¨¡å¼ï¼Œè¿™å°±æ˜¯ 15 æ¬¡ HTTP è¯·æ±‚ï¼Œç¬é—´è§¦å‘ 429 å°ç¦ã€‚
>    - **æ–°æœºåˆ¶ (ReplayEngine)**ï¼šæˆ‘ä»¬ç°åœ¨ä½¿ç”¨ ReplayEngine åŒ…è£…å™¨ã€‚åœ¨é‡æ”¾é˜¶æ®µï¼Œæˆ‘ä»¬æ˜ç¡®çŸ¥é“è¿™åªæ˜¯åœ¨â€œå¤è¿°å†å²â€ï¼Œæ‰€ä»¥å½“æ¨¡æ‹Ÿæœºå™¨äººé—®â€œè¿™æ—¶å€™æˆ‘è¯¥å¹²å˜›ï¼Ÿâ€æ—¶ï¼ŒReplayEngine ç›´æ¥è¿”å›ä¸€ä¸ªå“‘åŠ¨ä½œï¼ˆå¦‚ `æ‘¸åˆ‡ (tsumogiri)`ï¼‰ï¼Œ**å®Œå…¨è·³è¿‡ AI æ¨ç†**ã€‚è¿™ä½¿å¾—é‡æ”¾è¿‡ç¨‹å‡ ä¹æ˜¯ç¬æ—¶çš„ï¼Œä¸”é›¶ç½‘ç»œæ¶ˆè€—ã€‚
> 4. **åˆ†æ”¯ (Branching)**ï¼š
>    - å½“çŠ¶æ€å®Œå…¨æ¢å¤åˆ°â€œç°åœ¨â€åï¼Œæˆ‘ä»¬æ‰‹åŠ¨å‘æ¨¡æ‹Ÿæœºå™¨äººå‘é€ä¸€ä¸ª `ç«‹ç›´ (riichi)` äº‹ä»¶ã€‚
>    - æ­¤æ—¶ï¼Œæ¨¡æ‹Ÿæœºå™¨äººçš„å†…éƒ¨çŠ¶æ€å°±å˜æˆäº†ï¼šâ€œç©å®¶åˆšåˆšå®£å¸ƒäº†ç«‹ç›´ï¼Œæ­£ç­‰å¾…åˆ‡ç‰Œâ€ã€‚
> 5. **æœ€ç»ˆæ¨ç† (Final Inference)**ï¼š
>    - åœ¨è¿™ä¸ªâ€œå®£å¸ƒç«‹ç›´â€çš„æ–°çŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬å‘ AI å¼•æ“å‘èµ·ä¸€æ¬¡**çœŸå®**çš„è¯¢é—®ï¼šâ€œç°åœ¨æœ€ä½³åˆ‡ç‰Œæ˜¯ä»€ä¹ˆï¼Ÿâ€
>    - å¼•æ“ä¼šæ ¹æ®å±€é¢åˆ†æï¼Œè¿”å›å…·ä½“çš„åˆ‡ç‰ŒåŠ¨ä½œï¼ˆä¾‹å¦‚ `æ‰“ 6m`ï¼‰ã€‚
> 6. **ç»“æœå±•ç¤º**ï¼šå‰ç«¯ UI æ¥æ”¶åˆ°è¿™ä¸ª`6m`çš„ä¿¡æ¯ï¼Œç•Œé¢ä¸Šä¼šæ—¢ä¼šé«˜äº®æ˜¾ç¤ºç«‹ç›´å’Œå…¶ä»–åˆ‡ç‰Œæ¨èï¼ˆæ¯”å¦‚`é»˜å¬ (damaten)`ï¼‰ï¼Œä¹Ÿä¼šåœ¨ç«‹ç›´æ¨èçš„å­æ¡ç›®å±•ç¤ºå»ºè®®åˆ‡å‡ºçš„é‚£å¼ `6m`ã€‚è‹¥ç«‹ç›´åˆ‡ç‰Œå€™é€‰å¤šäº1ç§ï¼Œå­æ¡ç›®ä¸­ä¼šåˆ†åˆ«å±•ç¤ºæ¯å¼ ç«‹ç›´åˆ‡ç‰Œå’Œç½®ä¿¡åº¦ã€‚
> </details>

## è¿è¡Œæˆªå›¾

### ä¸»ç•Œé¢

![ä¸»ç•Œé¢](./docs/screen_shots/ui.png)

### è®¾ç½®é¢æ¿

![è®¾ç½®é¢æ¿](./docs/screen_shots/settings_panel.png)

## æ¼”ç¤ºè§†é¢‘

https://github.com/user-attachments/assets/701a3dcf-1574-46af-9594-082605c4e158

---

## å®‰è£…ä¸ä½¿ç”¨

### 1. ä¸‹è½½ç¨‹åº

è¯·å‰å¾€ [Releases](../../releases) é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„å‹ç¼©åŒ…ã€‚

### 2. éƒ¨ç½²èµ„æº

Akagi-NG éœ€è¦å¤–éƒ¨æ¨¡å‹æ–‡ä»¶å’Œä¾èµ–åº“æ‰èƒ½è¿è¡Œã€‚
è¯·ç¡®ä¿ `Akagi-NG.exe` æ‰€åœ¨ç›®å½•ç»“æ„å®Œæ•´ï¼š

```plain
Akagi-NG/
  â”œâ”€â”€ Akagi-NG.exe     # ä¸»ç¨‹åº (Electron æ¡Œé¢ç«¯)
  â”œâ”€â”€ assets/          # å„å¹³å°ç›¸å…³çš„ç•Œé¢èµ„æº
  â”œâ”€â”€ bin/             # åç«¯æ ¸å¿ƒç¨‹åºæ‰€åœ¨çš„ç›®å½•
  â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶ç›®å½• (settings.json)
  â”œâ”€â”€ lib/             # libriichi æœ¬åœ°æ‰©å±•åº“ (.pyd/.so)
  â”‚     â”œâ”€â”€ libriichi.pyd
  â”‚     â””â”€â”€ libriichi3p.pyd
  â”œâ”€â”€ locales/         # å¤šè¯­è¨€æ”¯æŒèµ„æº
  â”œâ”€â”€ logs/            # è¿è¡Œæ—¥å¿—ç›®å½•
  â”œâ”€â”€ models/          # AI æ¨¡å‹æƒé‡æ–‡ä»¶ (.pth)
  â”‚     â”œâ”€â”€ mortal.pth
  â”‚     â””â”€â”€ mortal3p.pth
  â”œâ”€â”€ resources/       # åº”ç”¨ç¨‹åºæ ¸å¿ƒèµ„æº (app.asar)
  â”œâ”€â”€ LICENSE.txt      # å¼€æºè®¸å¯åè®®
  â”œâ”€â”€ README.txt       # æç®€ä½¿ç”¨è¯´æ˜
  â””â”€â”€ ...              # å…¶ä»–å¿…è¦çš„è¿è¡Œæ—¶æ”¯æŒæ–‡ä»¶ (.dll, .pak ç­‰)

```

### 3. å¯åŠ¨ä¸é€€å‡º

åŒå‡»è¿è¡Œ `Akagi-NG.exe` åï¼Œç¨‹åºå°†å±•ç¤ºé›†æˆåŒ–çš„ Dashboard é¢æ¿ã€‚æ‚¨å¯ä»¥ç›´æ¥ç‚¹å‡» Dashboard ä¸­çš„â€œå¼€å§‹æ¸¸æˆâ€å¯åŠ¨æ¸¸æˆæµè§ˆå™¨çª—å£ã€‚

ç‚¹å‡» Dashboard å³ä¸Šè§’çš„æ˜¾ç¤ºå™¨å›¾æ ‡å³å¯å¼€å¯ HUD ç•Œé¢ã€‚

å¦‚éœ€é€€å‡ºç¨‹åºï¼Œè¯·ç‚¹å‡» Dashboard å³ä¸Šè§’çš„çº¢è‰²ç”µæºå›¾æ ‡ã€‚

> [!TIP]
> **HUD (Heads-Up Display)** æ˜¯ Akagi-NG çš„ä¸€é¡¹æ ¸å¿ƒç‰¹æ€§ã€‚å®ƒèƒ½å¤Ÿå°†è¾…åŠ©ä¿¡æ¯ç›´æ¥ä»¥åŠé€æ˜å½¢å¼è¦†ç›–åœ¨æ¸¸æˆç”»é¢ä¸Šï¼Œæ— éœ€æ‰‹åŠ¨ç½®é¡¶çª—å£ã€‚

### 4. é…ç½®

Akagi-NG çš„æ‰€æœ‰é…ç½®å‡ä½äº `config/settings.json` æ–‡ä»¶ä¸­ã€‚æ‚¨å¯ä»¥ç‚¹å‡» Dashboard å³ä¸Šè§’çš„é½¿è½®å›¾æ ‡è¿›å…¥è®¾ç½®é¢æ¿æ¥ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ä¿®æ”¹æ­¤æ–‡ä»¶æ¥è°ƒæ•´ç¨‹åºè¡Œä¸ºã€‚

### 5. æ¡Œé¢åŸç”Ÿæ¨¡å¼ (æ¨è)

è¿™æ˜¯ Akagi-NGçš„**é»˜è®¤å·¥ä½œæ¨¡å¼**ã€‚

åœ¨æ­¤æ¨¡å¼ä¸‹ï¼ŒAkagi-NG åˆ©ç”¨ Electron æ ¸å¿ƒç®¡ç†ä¸€ä¸ªä¸“ç”¨çš„ Chromium å®ä¾‹æ¥è¿è¡Œæ¸¸æˆã€‚

- **æ ¸å¿ƒä¼˜åŠ¿**ï¼š
  - **å…é…ç½®**ï¼šæ— éœ€è¯ä¹¦æˆ–ä»£ç†è®¾ç½®ï¼Œä¸€é”®å¯åŠ¨ã€‚
  - **ç¯å¢ƒéš”ç¦»**ï¼šä¸æ‚¨æ—¥å¸¸ä½¿ç”¨çš„æµè§ˆå™¨å®Œå…¨éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°ã€‚
  - **å®‰å…¨ç¨³å®š**ï¼šç›´æ¥ä»æ¸¸æˆæœåŠ¡å™¨æ¥æ”¶æ•°æ®ï¼Œç¨³å®šæ€§é«˜ã€‚

- **ä½¿ç”¨æ–¹æ³•**ï¼š
  1. è¿è¡Œ `Akagi-NG.exe`ã€‚
  2. åœ¨ Dashboard ä¸­ç‚¹å‡»â€œå¯åŠ¨æ¸¸æˆâ€ã€‚

### 6. MITM æ¨¡å¼

Akagi-NG æ”¯æŒé€šè¿‡ä¸­é—´äººæ”»å‡» (MITM) æ–¹å¼æˆªè·æ¸¸æˆæ•°æ®ï¼Œè¿™å…è®¸æ‚¨ä½¿ç”¨ä»»æ„æµè§ˆå™¨æˆ–ç§»åŠ¨è®¾å¤‡ä¸Šï¼ˆé…åˆä»£ç†ï¼‰è¿›è¡Œå¯¹å±€ã€‚

1. **å¯ç”¨é…ç½®**:
   åœ¨è®¾ç½®é¢æ¿ä¸­å¯ç”¨â€œå¤–éƒ¨ä»£ç†â€æˆ–åœ¨ `config/settings.json` ä¸­æ‰‹åŠ¨ä¿®æ”¹ `mitm` å­—æ®µï¼š

   ```json
   "mitm": {
       "enabled": true,
       "host": "127.0.0.1",
       "port": 6789
   }
   ```

2. **è®¾ç½®ä»£ç†**:
   å°†æ‚¨çš„æµè§ˆå™¨æˆ–ç³»ç»Ÿä»£ç†è®¾ç½®ä¸º `127.0.0.1:6789`ã€‚

3. **å®‰è£…è¯ä¹¦**:

   > æ³¨æ„ï¼šå¦‚æœæ‚¨ä½¿ç”¨äº†æ–¹æ¡ˆ B (Clash åˆ†æµ)ï¼Œå¯èƒ½æ— æ³•æ‰“å¼€ `mitm.it`ã€‚æ¨èä½¿ç”¨**æ–¹æ³•äºŒ**ã€‚
   - **æ–¹æ³•ä¸€ï¼šåœ¨çº¿å®‰è£… (æ¨èæ–¹æ¡ˆ A ç”¨æˆ·)**
     - å¯åŠ¨ Akagi-NGã€‚
     - è®¿é—® [http://mitm.it](http://mitm.it)ã€‚
     - ä¸‹è½½ Windows è¯ä¹¦ (p12 æˆ– cer)ã€‚

   - **æ–¹æ³•äºŒï¼šæœ¬åœ°å®‰è£… (æ¨èæ–¹æ¡ˆ B ç”¨æˆ·)**
     - æ‰¾åˆ°ç”¨æˆ·ç›®å½•ä¸‹çš„ `.mitmproxy` æ–‡ä»¶å¤¹ (ä¾‹å¦‚ `C:\Users\<YourName>\.mitmproxy`)ã€‚
     - åŒå‡» `mitmproxy-ca-cert.p12` è¿›è¡Œå®‰è£…ã€‚

   - **å…³é”®æ­¥éª¤**ï¼š
     - åŒå‡»è¯ä¹¦ -> å®‰è£…è¯ä¹¦ -> å­˜å‚¨ä½ç½®é€‰â€œ**å—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„**â€ (Trusted Root Certification Authorities)ã€‚

> [!WARNING]
> åŠ¡å¿…å°†è¯ä¹¦å®‰è£…åˆ°â€œ**å—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„**â€ (Trusted Root Certification Authorities)ã€‚

### 7. å¸¸è§é—®é¢˜ (FAQ)

**Q: æˆ‘æ­£åœ¨ä½¿ç”¨ Clash/v2rayN ç­‰ä»£ç†è½¯ä»¶ (TUN/ç³»ç»Ÿä»£ç†æ¨¡å¼)ï¼Œå¦‚ä½•é…ç½®ï¼Ÿ**

#### é…ç½®æ–¹æ¡ˆ A: æµè§ˆå™¨ç½‘é¡µç‰ˆ (SwitchyOmega ä»£ç†)

æ­¤æ–¹æ¡ˆé€‚åˆ**ç½‘é¡µç‰ˆ**ç©å®¶ï¼Œé…ç½®æœ€ç®€å•ä¸”å®Œå…¨éš”ç¦»ã€‚

**é…ç½®æ­¥éª¤ (ä»¥ Clash Verge Tun æ¨¡å¼ä¸ºä¾‹)**ï¼š

1. **å‡†å¤‡ç¯å¢ƒ**ï¼š
   - ä¿æŒ Clash Verge çš„ Tun æ¨¡å¼ **å¼€å¯**ã€‚
   - ç¡®ä¿ Akagi-NG å·²å¯åŠ¨ä¸” `mitm.enabled` ä¸º `true` (ç«¯å£é»˜è®¤ 6789)ã€‚

2. **å®‰è£… SwitchyOmega**:
   - Chrome/Edge ç”¨æˆ·è¯·åœ¨å•†åº—æœç´¢å¹¶å®‰è£… "SwitchyOmega"ã€‚

3. **é…ç½®æƒ…æ™¯æ¨¡å¼**:
   - æ‰“å¼€ SwitchyOmega è®¾ç½®ç•Œé¢ã€‚
   - ç‚¹å‡»å·¦ä¾§ **"æ–°å»ºæƒ…æ™¯æ¨¡å¼"** -> å‘½åä¸º `Akagi-Mitm` -> ç±»å‹é€‰æ‹© **"ä»£ç†æœåŠ¡å™¨"**ã€‚
   - åœ¨ `Akagi-Mitm` çš„è®¾ç½®ä¸­ï¼š
     - åè®®ï¼š`HTTP`
     - æœåŠ¡å™¨ï¼š`127.0.0.1`
     - ç«¯å£ï¼š`6789`
   - ç‚¹å‡»å·¦ä¾§ **"åº”ç”¨é€‰é¡¹"** ä¿å­˜ã€‚

4. **é…ç½®è‡ªåŠ¨åˆ‡æ¢ (å…³é”®)**:
   - ç‚¹å‡»å·¦ä¾§ **"è‡ªåŠ¨åˆ‡æ¢"** (Auto Switch)ã€‚
   - åˆ é™¤æ‰€æœ‰ç°æœ‰è§„åˆ™ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚
   - **æ·»åŠ è§„åˆ™**ï¼š
     - è§„åˆ™åŒ¹é…ï¼š`*.maj-soul.com  ->  Akagi-Mitm`
     - è§„åˆ™åŒ¹é…ï¼š`*.majsoul.com  ->  Akagi-Mitm`
     - è§„åˆ™åŒ¹é…ï¼š`*.mahjongsoul.com  ->  Akagi-Mitm`
   - **é»˜è®¤è§„åˆ™** (Default)ï¼š
     - é€‰æ‹© **"ç›´æ¥è¿æ¥"** (Direct)ï¼Œç„¶åç‚¹å‡» **"åº”ç”¨é€‰é¡¹"** ä¿å­˜ã€‚

> [!TIP]
> å› ä¸ºæ‚¨çš„ç³»ç»Ÿå·²ç»å¼€å¯äº† Tun æ¨¡å¼ï¼Œ"ç›´è¿"çš„æµé‡ä¼šè‡ªåŠ¨è¢« Tun ç½‘å¡æ¥ç®¡å¹¶ä»£ç†ï¼Œæ‰€ä»¥ä¸éœ€è¦åœ¨è¿™é‡Œé€‰"ç³»ç»Ÿä»£ç†"æˆ–"Clash"ã€‚

> [!IMPORTANT]
> å¦‚æœæ‚¨æ²¡å¼€ Tun æ¨¡å¼ï¼Œä»…å¼€äº†ç³»ç»Ÿä»£ç†ï¼Œè¿™é‡Œè¯·é€‰"ç³»ç»Ÿä»£ç†"

5. **å¼€å§‹æ¸¸æˆ**:
   - ç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’ SwitchyOmega å›¾æ ‡ï¼Œé€‰æ‹© **"è‡ªåŠ¨åˆ‡æ¢"**ã€‚
   - è®¿é—®é›€é­‚ç½‘é¡µç‰ˆï¼ŒAkagi-NG åº”è¯¥èƒ½æ­£å¸¸è·å–æ¸¸æˆäº‹ä»¶ï¼ŒåŒæ—¶æ‚¨ä¾ç„¶å¯ä»¥è®¿é—® Google/YouTube (èµ° Tun)ã€‚

#### é…ç½®æ–¹æ¡ˆ B: é›€é­‚å®¢æˆ·ç«¯ (Clash è§„åˆ™åˆ†æµ)

æ­¤æ–¹æ¡ˆé€‚åˆ**PC/Steamå®¢æˆ·ç«¯**ç©å®¶ã€‚ç”±äºå®¢æˆ·ç«¯æ— æ³•åƒæµè§ˆå™¨é‚£æ ·ä½¿ç”¨æ’ä»¶åˆ†æµï¼Œæˆ‘ä»¬éœ€è¦ç›´æ¥ä¿®æ”¹ Clash é…ç½®ï¼Œè®©å®ƒæŠŠæ¸¸æˆæµé‡è½¬å‘ç»™ Akagi-NGã€‚

> [!IMPORTANT]
> ä½¿ç”¨PC/Steamå®¢æˆ·ç«¯æ¸¸ç©æ—¶ï¼Œè¯·ç¡®ä¿ Clash å¤„åœ¨ TUN æ¨¡å¼ä¸‹ï¼Œå¦åˆ™å°†æ— æ³•ä»£ç†å®¢æˆ·ç«¯æµé‡

1. **æ‰¾åˆ°é…ç½®å…¥å£**:
   - åœ¨ Clash Verge ä¸­æ‰¾åˆ°æ‚¨çš„é…ç½®æ–‡ä»¶ï¼ˆæˆ–è€…ä½¿ç”¨ "Merge" / "Script" åŠŸèƒ½è¿›è¡Œæ³¨å…¥ï¼Œä»¥å…è¦†ç›–åŸé…ç½®ï¼‰ã€‚

2. **æ·»åŠ ä»£ç†èŠ‚ç‚¹ (Proxies)**:
   å®šä¹‰ä¸€ä¸ªæŒ‡å‘ Akagi-NG æœ¬åœ°ä»£ç†çš„èŠ‚ç‚¹ã€‚

   ```yaml
   proxies:
     - name: Akagi-Mitm
       type: http
       server: 127.0.0.1
       port: 6789
       tls: false
   ```

   è¿˜å¯ä»¥å®šä¹‰ä¸€ä¸ªä»£ç†ç»„ (Proxy-groups)ï¼Œé‡Œé¢åŒ…å«æœ¬åœ°ä»£ç†èŠ‚ç‚¹å’Œç›´è¿ (Direct)ï¼Œè¿™æ ·æ–¹ä¾¿åˆ‡æ¢æ˜¯å¦ä½¿ç”¨ Akagi-NG æœ¬åœ°ä»£ç†ã€‚

   ```yaml
   proxy-groups:
     - name: ğŸ€„ é›€é­‚éº»å°†
       proxies:
         - Akagi-Mitm
         - DIRECT
       type: select
   ```

3. **æ·»åŠ åˆ†æµè§„åˆ™ (Rules)**:
   å°†é›€é­‚ç›¸å…³åŸŸåå¼ºåˆ¶æŒ‡å‘ä¸Šé¢å®šä¹‰çš„ä»£ç†èŠ‚ç‚¹ã€‚è¯·æ³¨æ„è§„åˆ™é¡ºåºï¼Œå»ºè®®å°†è§„åˆ™æ”¾åœ¨é å‰ä½ç½®ã€‚

   ```yaml
   rules:
     - PROCESS-NAME,é›€é­‚éº»å°‡,ğŸ€„ é›€é­‚éº»å°†
     - PROCESS-NAME,Jantama_MahjongSoul.exe,ğŸ€„ é›€é­‚éº»å°†
     - DOMAIN-Keyword,maj-soul,ğŸ€„ é›€é­‚éº»å°†
   ```

4. **åº”ç”¨é…ç½®**:
   ä¿å­˜å¹¶åˆ·æ–° Clash é…ç½®ã€‚ç°åœ¨å¯åŠ¨é›€é­‚å®¢æˆ·ç«¯ï¼Œæµé‡è·¯å¾„ä¸ºï¼š
   `é›€é­‚å®¢æˆ·ç«¯ -> Clash (TUN) -> åŒ¹é…åˆ° Rules -> è½¬å‘ç»™ Akagi-NG (6789) -> æ‚¨çš„ç½‘ç»œ/ä¸Šæ¸¸ä»£ç†`

---

## æºç æ„å»ºæŒ‡å—

### ç¯å¢ƒä¾èµ–

- Python **3.12+**
- Node.js & npm (ç”¨äºç¼–è¯‘å‰ç«¯)
- Windows (æ¨èå¼€å‘ç¯å¢ƒ)
- Git

### 1. å…‹éš†ä¸åˆå§‹åŒ–

```bash
git clone https://github.com/Xe-Persistent/Akagi-NG.git

# å®‰è£…åç«¯ä¾èµ– (Python 3.12+)
cd ./akagi_backend
pip install -e .
```

### 2. å¼€å‘ç¯å¢ƒè¿è¡Œ

åœ¨å¼€å‘ç¯å¢ƒä¸‹å¯åŠ¨æ¡Œé¢ç«¯ï¼š

```bash
cd ./electron
npm install
npm run dev
```

### 3. è°ƒç”¨æ„å»ºé“¾

v1.0.0 é‡‡ç”¨äº†ç»Ÿä¸€çš„ TypeScript é©±åŠ¨æ„å»ºé“¾ï¼Œä½äº `electron` ç›®å½•ã€‚

```bash
cd ./electron
npm run build
```

æ„å»ºäº§ç‰©å°†ç”Ÿæˆäº `dist/release` ç›®å½•ä¸‹ã€‚

### 4. æ„å»º macOSï¼ˆApple Silicon / arm64ï¼‰

è¯·åœ¨ macOS ä¸»æœºï¼ˆæˆ– `macos-14` GitHub Runnerï¼‰ä¸Šæ‰§è¡Œï¼š

```bash
cd ./akagi_backend
pip install -e ".[dev]"
pip install --find-links https://github.com/shinkuan/Akagi/releases/expanded_assets/v0.1.1-libriichi "riichi>=0.1.1"

cd ../akagi_frontend
npm ci

cd ../electron
npm ci

# æ—  Apple è´¦å·æ—¶çš„ unsigned åŒ…
CSC_IDENTITY_AUTO_DISCOVERY=false npm run build:mac:arm64

# æœ‰ Apple è´¦å·å¹¶é…ç½® APPLE_*ï¼ˆå¯é€‰ CSC_NAMEï¼‰å
npm run build:mac:arm64
```

äº§ç‰©ä½ç½®ï¼š`dist/release/*.dmg`

å½“ä»¥ä¸‹ç¯å¢ƒå˜é‡é½å…¨æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œç­¾ååçš„ notarizationï¼š

- `APPLE_ID`
- `APPLE_APP_SPECIFIC_PASSWORD`
- `APPLE_TEAM_ID`
- å¯é€‰ï¼š`CSC_NAME`

å¦‚æœä¸Šè¿°å˜é‡ç¼ºå¤±ï¼Œæ„å»ºä»ä¼šæˆåŠŸï¼Œåªä¼šè·³è¿‡ notarizationã€‚

ç»™æœ‹å‹åˆ†å‘ unsigned åŒ…æ—¶ï¼Œé¦–æ¬¡è¿è¡Œå¯èƒ½éœ€è¦æ¸…é™¤ quarantineï¼š

```bash
xattr -dr com.apple.quarantine /Applications/Akagi-NG.app
```

---

## å¼€æºåè®®

æœ¬è½¯ä»¶éµå¾ª [GNU Affero General Public License version 3 (AGPLv3)](LICENSE) å¼€æºåè®®ã€‚

---

## Auto-Play Update / è‡ªåŠ¨æ‰“ç‰Œæ›´æ–°

- Main addition in this branch: **Auto-Play**.
- æœ¬åˆ†æ”¯ä¸»è¦æ–°å¢ï¼š**è‡ªåŠ¨æ‰“ç‰Œï¼ˆAuto-Playï¼‰**ï¼Œå¯æŒ‰ AI å»ºè®®è‡ªåŠ¨æ‰§è¡ŒåŠ¨ä½œã€‚
